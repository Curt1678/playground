<html>

<head>
<style>
.origin {
	width: 100px;
	height: 100px;
	display: inline-block;
	margin: auto;
	border: 1px solid black;
	border-radius: 50%;
	position: absolute;
	top: 300px;
	left: 900px;
	transform-origin: 50% 50%;
}

.line {
	width: 50%;
	height: 3px;
	border: none;
	background: black;
	position: absolute;
	top:50%;
	transform: translateY(-50%);
	transform-origin: 100% 50%;
	}

</style>

<script>

let iota = 0;



window.addEventListener('mousemove',function(e){
	let cursorX = e.clientX;
	let cursorY = e.clientY;
	let originRect = document.querySelector('.origin').getBoundingClientRect();
	
	let originCentreX = ((originRect.right - originRect.left)/2) + originRect.left;
	let originCentreY = ((originRect.bottom - originRect.top)/2) + originRect.top;
	
	if(originCentreX > cursorX && originCentreY > cursorY){iota = Math.atan((originCentreY - cursorY)/(originCentreX - cursorX));}
	if(originCentreX < cursorX && originCentreY > cursorY){iota = Math.PI + Math.atan((originCentreY - cursorY)/(originCentreX - cursorX));}
	if(originCentreX < cursorX && originCentreY < cursorY){iota = Math.PI + Math.atan((originCentreY - cursorY)/(originCentreX - cursorX));}
	if(originCentreX > cursorX && originCentreY < cursorY){iota = (2 * Math.PI) + Math.atan((originCentreY - cursorY)/(originCentreX - cursorX));}
		
	if(originCentreX > cursorX && originCentreY == cursorY){iota = 0;}
	if(originCentreX == cursorX && originCentreY > cursorY){iota = Math.PI * (1/2);}
	if(originCentreX < cursorX && originCentreY == cursorY){iota = Math.PI;}
	if(originCentreX == cursorX && originCentreY < cursorY){iota = Math.PI * (3/2);}
	
	document.querySelector('.line').style = "transform:rotate(" + iota + "rad);";
	
	console.log(iota);
});
</script>

</head>


<body>

<div class="origin">
	<div class="line"></div>
</div>

</body>

</html>